#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Mon Aug 16 12:36:10 2021

@author: dasilva
"""
import volmdlr as vm
import volmdlr.edges as edges
import volmdlr.wires as wires

points_poly1 = [vm.Point3D(-0.02785286331176758, 0.14365164184570312, 0.16285931396484374),
vm.Point3D(-0.039570194244384765, 0.14255133056640626, 0.16285931396484374),
vm.Point3D(-0.04901511764526367, 0.14049978637695312, 0.16285931396484374),
vm.Point3D(-0.05265781402587891, 0.138816650390625, 0.16285931396484374),
vm.Point3D(-0.05629143524169922, 0.1368720245361328, 0.16285931396484374),
vm.Point3D(-0.06060961151123047, 0.1323123321533203, 0.16285931396484374),
vm.Point3D(-0.06237499237060547, 0.12723016357421876, 0.16285931396484374),
vm.Point3D(-0.06580715942382813, 0.11276873016357422, 0.16285931396484374),
vm.Point3D(-0.06730508422851562, 0.09772169494628906, 0.16285931396484374),
vm.Point3D(-0.06716297912597656, 0.09380774688720703, 0.16285931396484374),
vm.Point3D(-0.06691159057617188, 0.08986341857910156, 0.16285931396484374),
vm.Point3D(-0.06653813171386719, 0.08590738677978516, 0.16285931396484374),
vm.Point3D(-0.06329383087158204, 0.07401349639892578, 0.16285931396484374),
vm.Point3D(-0.05981048965454101, 0.06631576538085937, 0.16285931396484374),
vm.Point3D(-0.01858608627319336, -0.0005872868895530701, 0.16285931396484374),
vm.Point3D(0.004057138919830322, -0.026433467864990234, 0.16285931396484374),
vm.Point3D(0.004993902683258057, -0.027147762298583983, 0.16285931396484374),
vm.Point3D(0.0060211563110351566, -0.02774390983581543, 0.16285931396484374),
vm.Point3D(0.007130794048309326, -0.02821550941467285, 0.16285931396484374),
vm.Point3D(0.008299141883850098, -0.028550893783569335, 0.16285931396484374),
vm.Point3D(0.009508121490478515, -0.02874489402770996, 0.16285931396484374),
vm.Point3D(0.01073911190032959, -0.02879453659057617, 0.16285931396484374),
vm.Point3D(0.011898954391479493, -0.02870889663696289, 0.16285931396484374),
vm.Point3D(0.01304564380645752, -0.028496240615844725, 0.16285931396484374),
vm.Point3D(0.037929359436035155, -0.023318639755249025, 0.16285931396484374),
vm.Point3D(0.04026692581176758, -0.022659902572631837, 0.16285931396484374),
vm.Point3D(0.0423753433227539, -0.02173179054260254, 0.16285931396484374),
vm.Point3D(0.043635421752929685, -0.021140312194824217, 0.16285931396484374),
vm.Point3D(0.045726459503173826, -0.019112783432006834, 0.16285931396484374),
vm.Point3D(0.046045814514160156, -0.018350631713867187, 0.16285931396484374),
vm.Point3D(0.046317790985107424, -0.017561525344848634, 0.16285931396484374),
vm.Point3D(0.04654034042358399, -0.01675141906738281, 0.16285931396484374),
vm.Point3D(0.046711788177490235, -0.015926435470581056, 0.16285931396484374),
vm.Point3D(0.053979331970214844, 0.020638671875, 0.16285931396484374),
vm.Point3D(0.053991470336914066, 0.020810815811157228, 0.16285931396484374),
vm.Point3D(0.053973892211914065, 0.020982486724853516, 0.16285931396484374),
vm.Point3D(0.05395987319946289, 0.021073774337768556, 0.16285931396484374),
vm.Point3D(0.05268712615966797, 0.025928991317749023, 0.16285931396484374),
vm.Point3D(0.05260356140136719, 0.026217063903808593, 0.16285931396484374),
vm.Point3D(0.0053228259086608885, 0.1313191223144531, 0.16285931396484374),
vm.Point3D(0.00030017581582069395, 0.13677394104003907, 0.16285931396484374),
vm.Point3D(-0.0014313015937805177, 0.1385874481201172, 0.16285931396484374),
vm.Point3D(-0.003362513303756714, 0.14024832153320313, 0.16285931396484374),
vm.Point3D(-0.013057180404663086, 0.14319378662109375, 0.16285931396484374)]
points_poly2= [vm.Point3D(-0.010604868888854981, 0.25544769287109376, 0.3087467854817708),
               
                # vm.Point3D(-0.020924437046051025, 0.10044755935668946, 0.3087467854817708),
               
vm.Point3D(-0.03124400520324707, -0.05455257415771484, 0.3087467854817708),
vm.Point3D(-0.03130274772644043, -0.05558409118652344, 0.3087467854817708),
vm.Point3D(-0.031189207077026368, -0.056608932495117184, 0.3087467854817708),
vm.Point3D(-0.0309064884185791, -0.05760097122192383, 0.3087467854817708),
vm.Point3D(-0.03046185874938965, -0.05853323364257813, 0.3087467854817708),
vm.Point3D(-0.03041231346130371, -0.05862467575073242, 0.3087467854817708),
vm.Point3D(-0.027614965438842773, -0.06287195587158204, 0.3087467854817708),
vm.Point3D(-0.026767383575439452, -0.06399352264404297, 0.3087467854817708),
vm.Point3D(-0.025745052337646485, -0.06492023468017578, 0.3087467854817708),
vm.Point3D(-0.02460012626647949, -0.06561465454101563, 0.3087467854817708),
vm.Point3D(-0.02459031105041504, -0.06561975860595703, 0.3087467854817708),
vm.Point3D(-0.02404205131530762, -0.06585366821289063, 0.3087467854817708),
vm.Point3D(-0.02292808723449707, -0.06627790069580078, 0.3087467854817708),
vm.Point3D(-0.02278839874267578, -0.06631626892089844, 0.3087467854817708),
vm.Point3D(-0.012440189361572266, -0.06895392608642578, 0.3087467854817708),
vm.Point3D(-0.012259869575500489, -0.06899011993408204, 0.3087467854817708),
vm.Point3D(-0.011183531761169433, -0.06917070007324219, 0.3087467854817708),
vm.Point3D(-0.010918049812316895, -0.06917656707763672, 0.3087467854817708),
vm.Point3D(-0.010076598167419433, -0.06914939880371093, 0.3087467854817708),
vm.Point3D(-0.009998991966247558, -0.06914490509033203, 0.3087467854817708),
vm.Point3D(-0.009753141403198242, -0.06911286926269532, 0.3087467854817708),
vm.Point3D(-0.00829634952545166, -0.06890043640136718, 0.3087467854817708),
vm.Point3D(-0.0072723708152770995, -0.06864768218994141, 0.3087467854817708),
vm.Point3D(0.038089847564697264, -0.05439760971069336, 0.3087467854817708),
vm.Point3D(0.039809425354003905, -0.053730983734130856, 0.3087467854817708),
vm.Point3D(0.03985519027709961, -0.05371197891235351, 0.3087467854817708),
vm.Point3D(0.0407705078125, -0.05333186721801758, 0.3087467854817708),
vm.Point3D(0.04092917251586914, -0.05326324462890625, 0.3087467854817708),
vm.Point3D(0.04226494598388672, -0.0526662483215332, 0.3087467854817708),
vm.Point3D(0.042336688995361325, -0.05262675476074219, 0.3087467854817708),
vm.Point3D(0.04363461685180664, -0.05177023696899414, 0.3087467854817708),
vm.Point3D(0.07080381774902343, -0.032085441589355466, 0.3087467854817708),
vm.Point3D(0.07109381103515625, -0.03184650230407715, 0.3087467854817708),
vm.Point3D(0.07119570922851562, -0.03174713706970215, 0.3087467854817708),
vm.Point3D(0.07142466735839843, -0.03148546600341797, 0.3087467854817708),
vm.Point3D(0.07152546691894532, -0.03134865951538086, 0.3087467854817708),
vm.Point3D(0.07169377136230469, -0.0310775203704834, 0.3087467854817708),
vm.Point3D(0.07544326782226562, -0.023758499145507813, 0.3087467854817708),
vm.Point3D(0.07592865753173828, -0.022711578369140624, 0.3087467854817708),
vm.Point3D(0.07603355407714844, -0.02242930030822754, 0.3087467854817708),
vm.Point3D(0.07628166961669922, -0.02160985565185547, 0.3087467854817708),
vm.Point3D(0.08193292236328124, 0.0007950757145881652, 0.3087467854817708),
vm.Point3D(0.08195355987548827, 0.0008994390368461609, 0.3087467854817708),
vm.Point3D(0.08201879119873047, 0.0014486271142959595, 0.3087467854817708),
vm.Point3D(0.0847984390258789, 0.025660154342651367, 0.3087467854817708),
vm.Point3D(0.08456723022460938, 0.02781087112426758, 0.3087467854817708),
vm.Point3D(0.06200638580322266, 0.1962295379638672, 0.3087467854817708),
vm.Point3D(0.04999650192260742, 0.22541395568847655, 0.3087467854817708),
vm.Point3D(0.04957948303222656, 0.2264048614501953, 0.3087467854817708),
vm.Point3D(0.04919685363769531, 0.2271392822265625, 0.3087467854817708),
vm.Point3D(0.04901335144042969, 0.2274542236328125, 0.3087467854817708),
vm.Point3D(0.04851024627685547, 0.22820054626464845, 0.3087467854817708),
vm.Point3D(0.048066974639892575, 0.22883103942871094, 0.3087467854817708),
vm.Point3D(0.047599201202392576, 0.2294507598876953, 0.3087467854817708),
vm.Point3D(0.04647229385375977, 0.23070252990722656, 0.3087467854817708),
vm.Point3D(0.04495684432983398, 0.23210064697265625, 0.3087467854817708),
vm.Point3D(0.043595314025878906, 0.23318142700195313, 0.3087467854817708),
vm.Point3D(0.02427046012878418, 0.24751808166503905, 0.3087467854817708),
vm.Point3D(0.023547840118408204, 0.2479903106689453, 0.3087467854817708),
vm.Point3D(0.022732593536376952, 0.24846820068359374, 0.3087467854817708),
vm.Point3D(0.02045680236816406, 0.24974369812011718, 0.3087467854817708),
vm.Point3D(0.018347965240478516, 0.2508174591064453, 0.3087467854817708),
vm.Point3D(0.016428760528564453, 0.2516969757080078, 0.3087467854817708),
vm.Point3D(0.014683937072753906, 0.25240689086914064, 0.3087467854817708),
vm.Point3D(0.013209285736083985, 0.25295291137695314, 0.3087467854817708),
vm.Point3D(0.011449973106384277, 0.25353517150878907, 0.3087467854817708),
vm.Point3D(0.00789752197265625, 0.25469747924804687, 0.3087467854817708),
vm.Point3D(0.006583809375762939, 0.2550425567626953, 0.3087467854817708),
vm.Point3D(0.0052326183319091795, 0.2552791137695313, 0.3087467854817708),
vm.Point3D(0.002556457042694092, 0.2554306640625, 0.3087467854817708),
vm.Point3D(-7.359097152948379e-05, 0.25544367980957033, 0.3087467854817708)]

primitives1 = [edges.LineSegment3D(point1, point2) for point1, point2 in zip(points_poly1, points_poly1[1:] + [points_poly1[0]])]
contour3D_1 = wires.Contour3D(primitives1)
contour3D_1.color = [1,0,0]

primitives2 = [edges.LineSegment3D(point1, point2) for point1, point2 in zip(points_poly2, points_poly2[1:] + [points_poly2[0]])]
contour3D_2 = wires.Contour3D(primitives2)
contour3D_2.color = [1,0,0]
volum = vm.core.VolumeModel([contour3D_1, contour3D_2])
volum.babylonjs()

""" Wires"""
wire_points = [vm.Point3D(-0.10650088500976562, 0.27905870056152345, 0.624640625),
                vm.Point3D(-0.104323486328125, 0.1399715576171875, 0.614640625),
                vm.Point3D(-0.10663780975341797, 0.31083231353759766, 0.614640625), 
                vm.Point3D(-0.10414730072021484, 0.07612438201904297, 0.624640625), 
                vm.Point3D(-0.10319176483154296, 0.09454248809814453, 0.6133880004882812), 
                vm.Point3D(-0.12107452392578126, 0.045622203826904295, 0.6044317016601563), 
                vm.Point3D(-0.09986939239501953, 0.01692203903198242, 0.5995250854492188), 
                vm.Point3D(-0.09929310607910156, 0.03290122985839844, 0.5972074584960938), 
                vm.Point3D(-0.09784471130371095, 0.028640857696533203, 0.59435693359375), 
                vm.Point3D(-0.0968069839477539, 0.02187256622314453, 0.5923446655273438), 
                vm.Point3D(-0.09731339263916015, 0.029717880249023437, 0.5898930053710938), 
                vm.Point3D(-0.09809609222412109, 0.01961002349853516, 0.5885726318359376), 
                vm.Point3D(-0.09836129913330078, 0.039472860336303712, 0.5875516967773438),
                vm.Point3D(-0.09821088409423828, 0.0163995418548584, 0.585931396484375)]

wire_primtives = [edges.LineSegment3D(point1, point2) for point1, point2 in zip(wire_points[:-1], wire_points[1:])]
wire3d = wires.Wire3D(wire_primtives)
wire3d.color = [0,1,0]
volum = vm.core.VolumeModel([wire3d])
volum.babylonjs()

""""BSpline"""
bezier = edges.BezierCurve3D(3, wire_points)
wire3d = wires.Wire3D([bezier])
wire3d.color = [0,0,1]
volum = vm.core.VolumeModel([wire3d])
volum.babylonjs()
