#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Thu Mar 3 2022

@author: s.bendjebla
"""

# %% Librairies

import volmdlr as vm
import volmdlr.faces

# %% Control points

control_points = [vm.Point3D(2.241, 2.4869e-16, 1.09426168652),
                  vm.Point3D(2.241, 0.113630651448, 1.09426168652),
                  vm.Point3D(2.241, 0.223810847892, 1.08268817839),
                  vm.Point3D(2.241, 0.33054058933200003, 1.0595411620800002),
                  vm.Point3D(2.241, 0.5361862970250001, 0.990895196727),
                  vm.Point3D(2.241, 0.723465858812, 0.879930616975),
                  vm.Point3D(2.241, 0.8118294543450001, 0.8144649862590001),
                  vm.Point3D(2.241, 0.9761785443359999, 0.6651572105469999),
                  vm.Point3D(2.241, 1.11211997147, 0.482276741071),
                  vm.Point3D(2.241, 1.17207590414, 0.383238416591),
                  vm.Point3D(2.241, 1.27413247734, 0.17155575554699998),
                  vm.Point3D(2.241, 1.33773987072, -0.0649536786244),
                  vm.Point3D(2.241, 1.35924662357, -0.188818776231),
                  vm.Point3D(2.241, 1.37, -0.317896712535),
                  vm.Point3D(2.241, 1.37, -0.45218748759),
                  vm.Point3D(2.59343707867, 1.9185e-16, 1.3231370015400001),
                  vm.Point3D(2.59342622313, 0.12093735572900001, 1.32312995187),
                  vm.Point3D(2.59288136788, 0.24045506429400001, 1.3121304390200001),
                  vm.Point3D(2.59222336812, 0.358102575366, 1.2891144239499999),
                  vm.Point3D(2.5915094518300004, 0.587185746842, 1.21804435526),
                  vm.Point3D(2.5928176277399997, 0.798165377834, 1.09823098512),
                  vm.Point3D(2.59418982522, 0.897715973003, 1.0264313247099999),
                  vm.Point3D(2.5984436896900003, 1.08183513015, 0.860987234209),
                  vm.Point3D(2.60522913179, 1.2310065670500001, 0.656413457028),
                  vm.Point3D(2.60914226048, 1.29560461061, 0.545483967348),
                  vm.Point3D(2.61737883972, 1.40293758378, 0.309109838505),
                  vm.Point3D(2.6249788339699998, 1.4661551148799998, 0.0483962044126),
                  vm.Point3D(2.6282494287, 1.48659201783, -0.08684558618539999),
                  vm.Point3D(2.63066141546, 1.49660866911, -0.22613178554000002),
                  vm.Point3D(2.6320408778699997, 1.49705688325, -0.369003086062),
                  vm.Point3D(2.96970174124, 1.5632000000000002e-16, 1.50692549123),
                  vm.Point3D(2.96968712047, 0.12710190956700002, 1.50692000803),
                  vm.Point3D(2.9688984693, 0.254265989991, 1.49599766247),
                  vm.Point3D(2.96796075502, 0.380658221389, 1.47255805327),
                  vm.Point3D(2.96702656827, 0.628340389171, 1.3986464942),
                  vm.Point3D(2.96919864976, 0.858138846883, 1.27145594036),
                  vm.Point3D(2.97137947109, 0.966657184806, 1.19467574985),
                  vm.Point3D(2.9780408535, 1.1669699287200002, 1.01693177593),
                  vm.Point3D(2.98856802122, 1.32789489111, 0.7963773875319999),
                  vm.Point3D(2.9946287679799997, 1.39701748223, 0.676785791572),
                  vm.Point3D(3.0073961149, 1.51059308594, 0.42256892736600005),
                  vm.Point3D(3.01926313653, 1.5756236406600002, 0.144704181224),
                  vm.Point3D(3.02441474363, 1.5961316139400001, 0.00150531527407),
                  vm.Point3D(3.02828901899, 1.60602680707, -0.144728468174),
                  vm.Point3D(3.0306261656599998, 1.60664229302, -0.293132378072),
                  vm.Point3D(3.3697939877099996, 1.279e-16, 1.64562715561),
                  vm.Point3D(3.36978683774, 0.132300624259, 1.6456265908299998),
                  vm.Point3D(3.36894041364, 0.26564878498899996, 1.63451205833),
                  vm.Point3D(3.36792633613, 0.39889333094400004, 1.61044197729),
                  vm.Point3D(3.36690804288, 0.6609243920379999, 1.53399549651),
                  vm.Point3D(3.36924492177, 0.905147394916, 1.4015010541700001),
                  vm.Point3D(3.3715994616200002, 1.02059433347, 1.3213147423999998),
                  vm.Point3D(3.3788075708900003, 1.23369114388, 1.13537342905),
                  vm.Point3D(3.39022922598, 1.40463293888, 0.9044488949080001),
                  vm.Point3D(3.39681278561, 1.47791518971, 0.779277162161),
                  vm.Point3D(3.4107010261300004, 1.59799571668, 0.513599162378),
                  vm.Point3D(3.42366211913, 1.66621077446, 0.22481932560800003),
                  vm.Point3D(3.42930913685, 1.68755070982, 0.07658946309510001),
                  vm.Point3D(3.43358713742, 1.69772906706, -0.07393585849350001),
                  vm.Point3D(3.43621972055, 1.69826984004, -0.22556239804),
                  vm.Point3D(4.20228055916, 1.279e-16, 1.84933424467),
                  vm.Point3D(4.202299667829999, 0.141118968529, 1.84933892905),
                  vm.Point3D(4.20158886394, 0.284385157266, 1.83741974655),
                  vm.Point3D(4.20070504937, 0.428144793008, 1.81175503501),
                  vm.Point3D(4.1997387863, 0.7116534971649999, 1.73062512444),
                  vm.Point3D(4.201534676690001, 0.977086807174, 1.59053803649),
                  vm.Point3D(4.20342476396, 1.10277940195, 1.50585455053),
                  vm.Point3D(4.209317530420001, 1.33521030494, 1.3096022379),
                  vm.Point3D(4.21880261746, 1.52252096123, 1.0663228536),
                  vm.Point3D(4.22429849012, 1.60308253571, 0.9346076457020001),
                  vm.Point3D(4.2359408604099995, 1.73569923434, 0.65556929098),
                  vm.Point3D(4.2468985966299995, 1.81185637348, 0.35423557795099997),
                  vm.Point3D(4.25170225529, 1.83588970199, 0.200261253592),
                  vm.Point3D(4.25538210013, 1.8473118126599999, 0.0449983413932),
                  vm.Point3D(4.2577178843, 1.84760875238, -0.109839644429),
                  vm.Point3D(5.0686651091, 2.558e-16, 1.9386036762199998),
                  vm.Point3D(5.0687066837, 0.147484373339, 1.93860739961),
                  vm.Point3D(5.06840335144, 0.296791695661, 1.92533047173),
                  vm.Point3D(5.06799205673, 0.44600826013800005, 1.89763497202),
                  vm.Point3D(5.0674804591000004, 0.739449954325, 1.8123150275600002),
                  vm.Point3D(5.06814171581, 1.0135265119099999, 1.6686221427999999),
                  vm.Point3D(5.06890905485, 1.1433809623100002, 1.58252068759),
                  vm.Point3D(5.071394825950001, 1.38422313033, 1.38411956653),
                  vm.Point3D(5.07552078644, 1.58041863103, 1.1398136847),
                  vm.Point3D(5.0779348742499995, 1.66561808244, 1.00780168494),
                  vm.Point3D(5.08308336834, 1.8077975520499998, 0.728316147398),
                  vm.Point3D(5.087981345549999, 1.8923045357700001, 0.426717712291),
                  vm.Point3D(5.0901419073400005, 1.91979546233, 0.27260821706500005),
                  vm.Point3D(5.091812721919999, 1.93311311743, 0.117383854208),
                  vm.Point3D(5.09290705677, 1.93316927492, -0.0369815392096),
                  vm.Point3D(5.50265533406, 3.4817e-16, 1.9628676830899998),
                  vm.Point3D(5.50270053327, 0.150230145192, 1.9628695227400001),
                  vm.Point3D(5.5026079317, 0.301842595401, 1.9488462116),
                  vm.Point3D(5.50245666935, 0.452849734807, 1.92008257768),
                  vm.Point3D(5.502248412449999, 0.749086539031, 1.83271750086),
                  vm.Point3D(5.502461825929999, 1.02500964197, 1.68770319624),
                  vm.Point3D(5.50273491906, 1.1557035037799999, 1.6012725463700002),
                  vm.Point3D(5.50365764652, 1.39839736466, 1.40283175405),
                  vm.Point3D(5.50524298043, 1.5971207334000002, 1.15948004496),
                  vm.Point3D(5.50618167695, 1.6838376076300001, 1.02813280194),
                  vm.Point3D(5.50820075066, 1.82955145475, 0.750096386409),
                  vm.Point3D(5.510149021399999, 1.9176645665399998, 0.449870851011),
                  vm.Point3D(5.511016082129999, 1.9467618767, 0.29633961112999996),
                  vm.Point3D(5.5116958682799995, 1.96102852335, 0.14160045904500002),
                  vm.Point3D(5.51216318569, 1.9610314091299998, -0.0123021631713),
                  vm.Point3D(5.929766964360001, 4.9027e-16, 1.9749996865200001),
                  vm.Point3D(5.92980090962, 0.152715305401, 1.9749996865200001),
                  vm.Point3D(5.92986941794, 0.30618159113000004, 1.96024310023),
                  vm.Point3D(5.92994835365, 0.458386185715, 1.93043175799),
                  vm.Point3D(5.93011657116, 0.7560080646280001, 1.84104263295),
                  vm.Point3D(5.9302975706300005, 1.03202619865, 1.6947334941199999),
                  vm.Point3D(5.93038972751, 1.1626258145, 1.6079959718699999),
                  vm.Point3D(5.930580819869999, 1.40524583869, 1.40961116771),
                  vm.Point3D(5.93077936656, 1.60456983802, 1.16738025166),
                  vm.Point3D(5.93087941678, 1.69186911453, 1.03679206759),
                  vm.Point3D(5.93107239473, 1.8393612226, 0.760373621125),
                  vm.Point3D(5.93123087705, 1.9297836236600001, 0.46148950315299997),
                  vm.Point3D(5.9312968679499996, 1.96000722565, 0.308434116642),
                  vm.Point3D(5.93134425644, 1.975, 0.153917802518),
                  vm.Point3D(5.93137847935, 1.975, -3.1347656337e-07),
                  vm.Point3D(6.35, 6.8923e-16, 1.9749996865200001),
                  vm.Point3D(6.35, 0.15511613727100002, 1.9749996865200001),
                  vm.Point3D(6.35, 0.310232313739, 1.95977142018),
                  vm.Point3D(6.35, 0.463354924914, 1.9293134313),
                  vm.Point3D(6.35, 0.761627384154, 1.8387308468199999),
                  vm.Point3D(6.35, 1.0365894224599999, 1.6918719279899999),
                  vm.Point3D(6.35, 1.1664005373800002, 1.60513491404),
                  vm.Point3D(6.35, 1.4073039032399999, 1.40730358976),
                  vm.Point3D(6.35, 1.60513522752, 1.1664002239),
                  vm.Point3D(6.35, 1.69187224147, 1.0365891089900001),
                  vm.Point3D(6.35, 1.8387311603, 0.761627070677),
                  vm.Point3D(6.35, 1.9293137447700002, 0.463354611438),
                  vm.Point3D(6.35, 1.95977173366, 0.310232000262),
                  vm.Point3D(6.35, 1.975, 0.155115823794),
                  vm.Point3D(6.35, 1.975, -3.13476563974e-07)]

# %% Bspline-surface parameters 

degree_u, degree_v, nb_u, nb_v = 5, 5, 9, 15

u_knots, u_multiplicities = [0.0, 0.5, 1.0], [6, 3, 6]
v_knots, v_multiplicities = [0.0, 0.24999999999982622, 0.49999999999826233, 0.7499999999991311, 1.0], [6, 3, 3, 3, 6]

# %% Bspline-surface definition

bspline_surface_1 = vm.faces.BSplineSurface3D(degree_u = degree_u,
                                              degree_v = degree_v,
                                              control_points = control_points,
                                              nb_u = nb_u,
                                              nb_v = nb_v,
                                              u_multiplicities = u_multiplicities,
                                              v_multiplicities = v_multiplicities,
                                              u_knots = u_knots,
                                              v_knots = v_knots)
                                            
bspline_face_1 = bspline_surface_1.rectangular_cut(0, 1, 0, 1)
